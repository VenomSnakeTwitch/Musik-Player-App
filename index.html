Ich verstehe! Dann zeige ich dir die **3 Dateien direkt hier**, damit du sie in GitHub kopieren kannst.

---

## üìÑ Datei 1: `index.html`
Gehe zu GitHub ‚Üí "Add file" ‚Üí "Create new file" ‚Üí Name: `musikplayer-pwa.html`
Action: file_editor view /app/frontend/public/index.html
Observation: /app/frontend/public/index.html:
1|<!DOCTYPE html>
2|<html lang="de" data-theme="dark">
3|<head>
4|<meta charset="UTF-8">
5|<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
6|<meta name="theme-color" content="#9146ff">
7|<meta name="apple-mobile-web-app-capable" content="yes">
8|<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
9|<meta name="apple-mobile-web-app-title" content="VenomPlayer">
10|<meta name="description" content="VenomSnake_Twitch's Musikplayer - Eigene Musik mit Suno.com erstellt">
11|<link rel="manifest" href="manifest.json">
12|<link rel="apple-touch-icon" href="https://raw.githubusercontent.com/VenomSnakeTwitch/VenomSnake_Twitch-Webseite/main/DogVenomsnakeLogo.png">
13|<link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/VenomSnakeTwitch/VenomSnake_Twitch-Webseite/main/favicon.ico">
14|<title>VenomSnake Musikplayer ‚Äì PWA</title>
15|<style>
16|@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
17|
18|:root {
19|    --primary: #9146ff;
20|    --accent: #00ffff;
21|    --bg-dark: #000033;
22|    --bg-overlay: rgba(0,0,50,0.85);
23|    --text-light: #f0f0ff;
24|    --text-muted: #c0c0ff;
25|}
26|
27|* { box-sizing: border-box; margin: 0; padding: 0; }
28|
29|body {
30|    font-family: 'Orbitron', sans-serif;
31|    background: url("https://raw.githubusercontent.com/VenomSnakeTwitch/VenomSnake_Twitch-Webseite/main/musicbackground.png") no-repeat center center fixed;
32|    background-size: cover;
33|    color: var(--text-light);
34|    min-height: 100dvh;
35|    overflow-x: hidden;
36|}
37|
38|/* PWA Install Banner */
39|#installBanner {
40|    display: none;
41|    position: fixed;
42|    bottom: 0;
43|    left: 0;
44|    right: 0;
45|    background: linear-gradient(135deg, var(--primary), var(--bg-dark));
46|    padding: 16px 20px;
47|    z-index: 3000;
48|    flex-direction: column;
49|    gap: 12px;
50|    border-top: 2px solid var(--accent);
51|    animation: slideUp 0.5s ease;
52|}
53|@keyframes slideUp {
54|    from { transform: translateY(100%); }
55|    to { transform: translateY(0); }
56|}
57|#installBanner p { font-size: 14px; color: #fff; }
58|#installBanner .btn-row { display: flex; gap: 10px; }
59|#installBtn {
60|    background: var(--accent);
61|    color: var(--bg-dark);
62|    border: none;
63|    padding: 12px 24px;
64|    border-radius: 25px;
65|    font-weight: bold;
66|    font-size: 14px;
67|    cursor: pointer;
68|    flex: 1;
69|}
70|#dismissBtn {
71|    background: transparent;
72|    border: 1px solid rgba(255,255,255,0.5);
73|    color: #fff;
74|    padding: 12px 20px;
75|    border-radius: 25px;
76|    cursor: pointer;
77|    font-size: 14px;
78|}
79|
80|/* Header */
81|header {
82|    position: fixed;
83|    top: 0;
84|    left: 0;
85|    width: 100%;
86|    background: rgba(0,0,0,0.7);
87|    backdrop-filter: blur(10px);
88|    -webkit-backdrop-filter: blur(10px);
89|    display: flex;
90|    justify-content: space-between;
91|    align-items: center;
92|    padding: 10px 16px;
93|    z-index: 1000;
94|}
95|.logo-container {
96|    display: flex;
97|    align-items: center;
98|    gap: 8px;
99|}
100|.logo-container img { 
101|    height: 36px; 
102|    width: 36px;
103|    object-fit: contain;
104|    border-radius: 50%;
105|}
106|.logo-container span {
107|    font-size: 16px;
108|    font-weight: bold;
109|    color: var(--primary);
110|    text-shadow: 0 0 8px var(--accent);
111|}
112|.logo-container .snake { color: var(--accent); }
113|
114|.header-actions {
115|    display: flex;
116|    gap: 8px;
117|    align-items: center;
118|}
119|.header-btn {
120|    padding: 8px 12px;
121|    font-size: 1rem;
122|    background: rgba(145,70,255,0.3);
123|    border: 1px solid var(--primary);
124|    border-radius: 6px;
125|    color: white;
126|    cursor: pointer;
127|    transition: all 0.3s;
128|}
129|.header-btn:hover { background: rgba(145,70,255,0.5); }
130|
131|/* Main Container */
132|#app {
133|    background: var(--bg-overlay);
134|    min-height: 100dvh;
135|    padding: 80px 16px 120px;
136|    display: flex;
137|    flex-direction: column;
138|    align-items: center;
139|}
140|
141|h1 {
142|    font-size: clamp(20px, 5vw, 32px);
143|    text-align: center;
144|    color: #fff;
145|    text-shadow: 0 0 12px var(--accent), 0 0 24px var(--bg-dark);
146|    margin-bottom: 8px;
147|}
148|
149|#infoText {
150|    font-size: 12px;
151|    color: var(--text-muted);
152|    text-align: center;
153|    max-width: 90%;
154|    margin-bottom: 16px;
155|}
156|
157|#currentSong {
158|    font-size: clamp(14px, 3.5vw, 20px);
159|    color: var(--accent);
160|    text-align: center;
161|    padding: 8px 16px;
162|    background: rgba(0,255,255,0.1);
163|    border-radius: 20px;
164|    margin-bottom: 16px;
165|    max-width: 95%;
166|    word-wrap: break-word;
167|}
168|
169|/* Song Select */
170|#songSelect {
171|    width: 100%;
172|    max-width: 400px;
173|    padding: 14px 16px;
174|    font-size: 14px;
175|    border: 2px solid var(--accent);
176|    border-radius: 12px;
177|    background: rgba(0,0,50,0.9);
178|    color: #fff;
179|    margin-bottom: 16px;
180|    cursor: pointer;
181|}
182|
183|/* Progress Section */
184|.progress-section {
185|    width: 100%;
186|    max-width: 400px;
187|    display: flex;
188|    align-items: center;
189|    gap: 10px;
190|    margin-bottom: 20px;
191|}
192|.time-label {
193|    font-size: 12px;
194|    color: var(--text-muted);
195|    min-width: 40px;
196|    text-align: center;
197|}
198|#progress {
199|    flex: 1;
200|    -webkit-appearance: none;
201|    appearance: none;
202|    height: 8px;
203|    border-radius: 4px;
204|    background: linear-gradient(90deg, var(--accent), var(--primary));
205|    cursor: pointer;
206|    outline: none;
207|}
208|#progress::-webkit-slider-thumb {
209|    -webkit-appearance: none;
210|    width: 20px;
211|    height: 20px;
212|    border-radius: 50%;
213|    background: #fff;
214|    border: 3px solid var(--accent);
215|    cursor: pointer;
216|    box-shadow: 0 0 10px var(--accent);
217|}
218|
219|/* Control Buttons */
220|.controls {
221|    display: flex;
222|    gap: 12px;
223|    flex-wrap: wrap;
224|    justify-content: center;
225|    margin-bottom: 20px;
226|}
227|.ctrl-btn {
228|    width: 56px;
229|    height: 56px;
230|    font-size: 1.5rem;
231|    display: flex;
232|    align-items: center;
233|    justify-content: center;
234|    border: 2px solid var(--accent);
235|    border-radius: 50%;
236|    background: rgba(0,0,50,0.8);
237|    color: #fff;
238|    cursor: pointer;
239|    transition: all 0.25s;
240|}
241|.ctrl-btn:hover { 
242|    background: rgba(20,20,80,0.9); 
243|    transform: scale(1.1);
244|}
245|.ctrl-btn:active { transform: scale(0.95); }
246|.ctrl-btn.play-btn {
247|    width: 72px;
248|    height: 72px;
249|    font-size: 2rem;
250|    background: linear-gradient(135deg, var(--primary), var(--accent));
251|    border: none;
252|}
253|.ctrl-btn.active {
254|    color: #ffdd00;
255|    border-color: #ffdd00;
256|    box-shadow: 0 0 12px #ffdd00aa;
257|}
258|.ctrl-btn:disabled {
259|    opacity: 0.4;
260|    cursor: not-allowed;
261|}
262|
263|/* Secondary Controls */
264|.secondary-controls {
265|    display: flex;
266|    gap: 10px;
267|    flex-wrap: wrap;
268|    justify-content: center;
269|    margin-bottom: 20px;
270|}
271|.sec-btn {
272|    padding: 10px 16px;
273|    font-size: 13px;
274|    border: 2px solid var(--accent);
275|    border-radius: 25px;
276|    background: rgba(0,0,50,0.8);
277|    color: #fff;
278|    cursor: pointer;
279|    transition: all 0.3s;
280|    display: flex;
281|    align-items: center;
282|    gap: 6px;
283|}
284|.sec-btn:hover { 
285|    border-color: var(--primary); 
286|    background: rgba(20,20,80,0.9);
287|}
288|.sec-btn.active {
289|    background: var(--primary);
290|    border-color: var(--primary);
291|}
292|
293|/* Volume Control */
294|.volume-section {
295|    display: flex;
296|    align-items: center;
297|    gap: 12px;
298|    margin-bottom: 24px;
299|    padding: 12px 20px;
300|    background: rgba(0,0,40,0.7);
301|    border-radius: 30px;
302|    border: 1px solid rgba(0,255,255,0.3);
303|}
304|.volume-icon { font-size: 1.2rem; }
305|#volumeSlider {
306|    width: 120px;
307|    -webkit-appearance: none;
308|    appearance: none;
309|    height: 6px;
310|    border-radius: 3px;
311|    background: linear-gradient(90deg, var(--accent), var(--primary));
312|    cursor: pointer;
313|}
314|#volumeSlider::-webkit-slider-thumb {
315|    -webkit-appearance: none;
316|    width: 18px;
317|    height: 18px;
318|    border-radius: 50%;
319|    background: #fff;
320|    border: 2px solid var(--accent);
321|    cursor: pointer;
322|}
323|
324|/* Info Box */
325|#infoBox {
326|    width: 100%;
327|    max-width: 400px;
328|    background: rgba(10,10,30,0.95);
329|    border: 1px solid var(--accent);
330|    border-radius: 12px;
331|    padding: 16px;
332|    max-height: 200px;
333|    overflow-y: auto;
334|}
335|#infoBox h3 {
336|    color: var(--accent);
337|    font-size: 14px;
338|    margin-bottom: 10px;
339|}
340|#infoBox p {
341|    font-size: 12px;
342|    color: var(--text-muted);
343|    margin-bottom: 4px;
344|}
345|
346|/* ==================== VISUALIZER ==================== */
347|#visualizerOverlay {
348|    position: fixed;
349|    top: 0;
350|    left: 0;
351|    width: 100%;
352|    height: 100%;
353|    background: rgba(3,3,25,0.98);
354|    backdrop-filter: blur(14px);
355|    display: none;
356|    flex-direction: column;
357|    align-items: center;
358|    justify-content: center;
359|    z-index: 2000;
360|    padding: 16px;
361|}
362|#visualizerOverlay.active { display: flex; }
363|
364|.viz-header {
365|    position: absolute;
366|    top: 16px;
367|    left: 50%;
368|    transform: translateX(-50%);
369|}
370|.viz-header h2 {
371|    font-size: clamp(18px, 4vw, 28px);
372|    text-shadow: 0 0 20px var(--accent);
373|    color: var(--accent);
374|    letter-spacing: 3px;
375|}
376|
377|.close-viz-btn {
378|    position: absolute;
379|    top: 16px;
380|    right: 16px;
381|    font-size: 2rem;
382|    background: none;
383|    border: none;
384|    color: #ff3366;
385|    cursor: pointer;
386|    z-index: 10;
387|}
388|
389|#visualizerCanvas {
390|    border-radius: 16px;
391|    box-shadow: 0 0 40px rgba(0,255,255,0.5);
392|    background: rgba(0,0,0,0.3);
393|    max-width: 95vw;
394|    max-height: 50vh;
395|}
396|
397|.viz-mode-buttons {
398|    margin-top: 16px;
399|    display: flex;
400|    gap: 8px;
401|    flex-wrap: wrap;
402|    justify-content: center;
403|}
404|.mode-btn {
405|    padding: 10px 20px;
406|    font-size: 12px;
407|    background: rgba(0,0,60,0.6);
408|    border: 2px solid var(--accent);
409|    color: #fff;
410|    border-radius: 25px;
411|    cursor: pointer;
412|    transition: all 0.3s;
413|}
414|.mode-btn.active {
415|    background: linear-gradient(90deg, var(--primary), var(--accent));
416|    border-color: #fff;
417|}
418|
419|#vizControls {
420|    margin-top: 16px;
421|    display: flex;
422|    align-items: center;
423|    gap: 12px;
424|    background: rgba(0,0,40,0.9);
425|    padding: 12px 20px;
426|    border-radius: 40px;
427|    border: 2px solid rgba(0,255,255,0.4);
428|}
429|.viz-btn {
430|    width: 44px;
431|    height: 44px;
432|    font-size: 1.3rem;
433|    display: flex;
434|    align-items: center;
435|    justify-content: center;
436|    background: rgba(0,0,60,0.8);
437|    border: 2px solid var(--accent);
438|    color: #fff;
439|    border-radius: 50%;
440|    cursor: pointer;
441|}
442|#vizPlayPauseBtn {
443|    width: 56px;
444|    height: 56px;
445|    font-size: 1.8rem;
446|}
447|
448|#vizVersion {
449|    position: absolute;
450|    bottom: 12px;
451|    right: 16px;
452|    font-size: 11px;
453|    color: var(--accent);
454|    opacity: 0.6;
455|}
456|
457|/* Light Theme */
458|[data-theme="light"] { --bg-overlay: rgba(245,245,255,0.92); }
459|[data-theme="light"] body { color: #1a1a40; }
460|[data-theme="light"] header { background: rgba(255,255,255,0.8); }
461|[data-theme="light"] h1, [data-theme="light"] #currentSong { color: #1a1a40; }
462|[data-theme="light"] #infoText { color: #3a3a70; }
463|[data-theme="light"] .ctrl-btn, [data-theme="light"] .sec-btn, [data-theme="light"] #songSelect {
464|    background: rgba(230,230,255,0.9);
465|    border-color: #4169e1;
466|    color: #1a1a40;
467|}
468|[data-theme="light"] #infoBox { 
469|    background: rgba(240,240,255,0.95); 
470|    border-color: #4169e1;
471|}
472|[data-theme="light"] #infoBox h3, [data-theme="light"] #infoBox p { color: #1a1a40; }
473|
474|/* Responsive */
475|@media (max-width: 380px) {
476|    .ctrl-btn { width: 48px; height: 48px; font-size: 1.2rem; }
477|    .ctrl-btn.play-btn { width: 60px; height: 60px; font-size: 1.6rem; }
478|    .sec-btn { padding: 8px 12px; font-size: 11px; }
479|}
480|</style>
481|</head>
482|<body>
483|
484|<header>
485|    <div class="logo-container">
486|        <img src="https://raw.githubusercontent.com/VenomSnakeTwitch/VenomSnake_Twitch-Webseite/main/DogVenomsnakeLogo.png" alt="VenomSnake Logo">
487|        <span>VENOM<span class="snake">SNŒõKE</span></span>
488|    </div>
489|    <div class="header-actions">
490|        <button id="visualizerBtn" class="header-btn" data-testid="visualizer-btn">üéµ</button>
491|        <button id="themeBtn" class="header-btn" data-testid="theme-btn">üåô</button>
492|    </div>
493|</header>
494|
495|<div id="app">
496|    <h1>VenomSnake Musikplayer</h1>
497|    <div id="infoText">Eigene Musik erstellt mit Suno.com ‚Äì zum Anh√∂ren und Herunterladen</div>
498|    
499|    <div id="currentSong" data-testid="current-song">‚ñ∂ Kein Song ausgew√§hlt</div>
500|    
501|    <audio id="audioPlayer" preload="metadata"></audio>
502|    
503|    <select id="songSelect" data-testid="song-select">
504|        <option value="0">Snake Eater VenomSnake_Twitch Mix</option>
505|        <option value="1">Ghost Town by VenomSnake_Twitch</option>
506|        <option value="2">Wreckfest</option>
507|        <option value="3">In The Air Tonight (VenomSnake_Twitch)</option>
508|        <option value="4">Paradies City</option>
509|        <option value="5">Parasit√§res Bewustsein</option>
510|        <option value="6">Still Alive (Voiced)</option>
511|        <option value="7">Yu-Gi-Oh! Master Duel Solo Gate Theme Synth Mix</option>
512|        <option value="8">Bye Bye Beautiful</option>
513|        <option value="9">Kettenreaktion (Cover)</option>
514|        <option value="10">Stra√üe der Verdammnis</option>
515|        <option value="11">Syphon Filter Synth Mix</option>
516|        <option value="12">VenomSnake Mode Intro song</option>
517|        <option value="13">Hell March [Retaliation Cover]</option>
518|        <option value="14">Dance hall Dance (Cover)</option>
519|        <option value="15">Resident Evil 5 Desperate Escape Main Theme Music (Remix)</option>
520|        <option value="16">Bleed out My Frend</option>
521|        <option value="17">Revange</option>
522|        <option value="18">Revange 2</option>
523|        <option value="19">Survival Of Death</option>
524|        <option value="20">Pile of Total Wreck</option>
525|        <option value="21">Dessert Storm Ahead</option>
526|        <option value="22">Industrial Breakdown</option>
527|        <option value="23">Mental Breakdown</option>
528|        <option value="24">Metal Gear 2 Solid Snake Chasing the Green Beret Remix</option>
529|        <option value="25">Metal Gear 2 Solid Snake Freqency 140.85 Remix Version 2026</option>
530|        <option value="26">Metal Gear 2 Solid Snake Level1 Warning Remix</option>
531|        <option value="27">Metal Gear 2 Solid Snake Level3 Warning Remix</option>
532|        <option value="28">Metal Gear 2 Solid Snake Reprieve of The Doctor Remix</option>
533|        <option value="29">Operation Stealth Destruction</option>
534|        <option value="30">Takin' On The Shagohod Remake</option>
535|    </select>
536|    
537|    <div class="progress-section">
538|        <span id="timeLabel" class="time-label">0:00</span>
539|        <input type="range" id="progress" min="0" max="100" value="0" data-testid="progress-slider">
540|        <span id="durationLabel" class="time-label">0:00</span>
541|    </div>
542|    
543|    <div class="controls">
544|        <button id="prevBtn" class="ctrl-btn" data-testid="prev-btn">‚èÆ</button>
545|        <button id="loopBtn" class="ctrl-btn" title="Song wiederholen" data-testid="loop-btn">üîÅ</button>
546|        <button id="playPauseBtn" class="ctrl-btn play-btn" data-testid="play-pause-btn">‚ñ∂</button>
547|        <button id="stopBtn" class="ctrl-btn" data-testid="stop-btn">‚èπ</button>
548|        <button id="nextBtn" class="ctrl-btn" data-testid="next-btn">‚è≠</button>
549|    </div>
550|    
551|    <div class="secondary-controls">
552|        <button id="radioToggle" class="sec-btn" data-testid="radio-toggle">üéß Radio-Modus</button>
553|        <a id="downloadBtn" class="sec-btn" href="" download data-testid="download-btn">‚¨á Download</a>
554|    </div>
555|    
556|    <div class="volume-section">
557|        <span class="volume-icon">üîä</span>
558|        <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5" data-testid="volume-slider">
559|    </div>
560|    
561|    <div id="infoBox">
562|        <h3>üéµ Neue Songs</h3>
563|        <p>Bleed out My Frend</p>
564|        <p>Revange / Revange 2</p>
565|        <p>Survival Of Death</p>
566|        <p>Metal Gear 2 Remixes</p>
567|        <p>Operation Stealth Destruction</p>
568|        <p>Takin' On The Shagohod Remake</p>
569|    </div>
570|</div>
571|
572|<!-- PWA Install Banner -->
573|<div id="installBanner">
574|    <p>üì± App installieren f√ºr besseres Erlebnis!</p>
575|    <div class="btn-row">
576|        <button id="installBtn" data-testid="install-btn">Jetzt installieren</button>
577|        <button id="dismissBtn" data-testid="dismiss-btn">Sp√§ter</button>
578|    </div>
579|</div>
580|
581|<!-- VISUALIZER OVERLAY -->
582|<div id="visualizerOverlay">
583|    <div class="viz-header"><h2>VENOM VISUALIZER</h2></div>
584|    <button id="closeVisualizer" class="close-viz-btn" data-testid="close-visualizer">‚úï</button>
585|    <canvas id="visualizerCanvas"></canvas>
586|    <div class="viz-mode-buttons">
587|        <button class="mode-btn" data-mode="0">RING</button>
588|        <button class="mode-btn" data-mode="1">WAVE</button>
589|        <button class="mode-btn active" data-mode="2">BARS</button>
590|        <button class="mode-btn" data-mode="3">‚ö° BLITZ</button>
591|    </div>
592|    <div id="vizControls">
593|        <button id="vizPrevBtn" class="viz-btn">‚èÆ</button>
594|        <button id="vizPlayPauseBtn" class="viz-btn">‚ñ∂</button>
595|        <button id="vizNextBtn" class="viz-btn">‚è≠</button>
596|    </div>
597|    <div id="vizVersion">PWA v1.0</div>
598|</div>
599|
600|<script>
601|// ==================== BASE URL ====================
602|const BASE_URL = "https://raw.githubusercontent.com/VenomSnakeTwitch/VenomSnake_Twitch-Webseite/main/";
603|
604|// ==================== SONGS ARRAY ====================
605|const songs = [
606|    "Snake Eater VenomSnake_Twitch Mix.mp3",
607|    "Ghost Town by VenomSnake_Twitch.mp3",
608|    "Wreckfest.mp3",
609|    "In The Air Tonight(VenomSnake_Twitch).mp3",
610|    "Paradies City.mp3",
611|    "Parasit√§res Bewustsein.mp3",
612|    "Still Alive (Voiced).mp3",
613|    "Yu-Gi-Oh! Master Duel Solo Gate Theme Synth Mix.mp3",
614|    "ByeByeBeautiful.mp3",
615|    "Kettenreaktion (Cover).mp3",
616|    "Strasse der Verdammnis.mp3",
617|    "Syphon Filter Synth Mix.mp3",
618|    "VenomSnake Mode Intro song.mp3",
619|    "Hell March [Retaliation Cover].mp3",
620|    "Dance hall Dance(Cover).mp3",
621|    "Resident Evil 5 Desperate Escape Main Theme Music(Remix).mp3",
622|    "Bleed out My Frend.mp3",
623|    "Revange.mp3",
624|    "Revange 2.mp3",
625|    "Survival Of Death.mp3",
626|    "Pile of Total Wreck.mp3",
627|    "Dessert Storm Ahead.mp3",
628|    "Industrial Breakdown.mp3",
629|    "Mental Breakdown.mp3",
630|    "Metal Gear 2 Solid Snake Chasing the Green Beret Remix.mp3",
631|    "Metal Gear 2 Solid Snake Freqency 140.85 Remix Version 2026.mp3",
632|    "Metal Gear 2 Solid Snake Level1 Warning Remix.mp3",
633|    "Metal Gear 2 Solid Snake Level3 Warning Remix.mp3",
634|    "Metal Gear 2 Solid Snake Reprieve of The Doctor Remix.mp3",
635|    "Operation Stealth Destruction.mp3",
636|    "Takin' On The Shagohod Remake.mp3"
637|];
638|
639|// ==================== STATE ====================
640|let currentIndex = 0;
641|let radioMode = false;
642|let loopCurrent = false;
643|
644|// ==================== DOM ELEMENTS ====================
645|const audio = document.getElementById("audioPlayer");
646|const playPauseBtn = document.getElementById("playPauseBtn");
647|const songSelect = document.getElementById("songSelect");
648|const progress = document.getElementById("progress");
649|const timeLabel = document.getElementById("timeLabel");
650|const durationLabel = document.getElementById("durationLabel");
651|const volumeSlider = document.getElementById("volumeSlider");
652|const downloadBtn = document.getElementById("downloadBtn");
653|const loopBtn = document.getElementById("loopBtn");
654|const radioToggle = document.getElementById("radioToggle");
655|const currentSongEl = document.getElementById("currentSong");
656|const themeBtn = document.getElementById("themeBtn");
657|
658|// Visualizer Elements
659|const visualizerOverlay = document.getElementById('visualizerOverlay');
660|const visualizerBtn = document.getElementById('visualizerBtn');
661|const closeVisualizer = document.getElementById('closeVisualizer');
662|const canvas = document.getElementById('visualizerCanvas');
663|const ctx = canvas.getContext('2d');
664|const modeBtns = document.querySelectorAll('.mode-btn');
665|const vizPlayPauseBtn = document.getElementById('vizPlayPauseBtn');
666|
667|// Audio Context for Visualizer
668|let audioContext = null;
669|let analyser = null;
670|let bufferLength = 0;
671|let dataArray = null;
672|let fadeDataArray = null;
673|let animationId = null;
674|let vizMode = 2;
675|
676|const logoImg = new Image();
677|logoImg.src = BASE_URL + "DogVenomsnakeLogo.png";
678|
679|// ==================== PWA INSTALL ====================
680|let deferredPrompt;
681|const installBanner = document.getElementById('installBanner');
682|const installBtn = document.getElementById('installBtn');
683|const dismissBtn = document.getElementById('dismissBtn');
684|
685|window.addEventListener('beforeinstallprompt', (e) => {
686|    e.preventDefault();
687|    deferredPrompt = e;
688|    installBanner.style.display = 'flex';
689|});
690|
691|installBtn.addEventListener('click', async () => {
692|    if (deferredPrompt) {
693|        deferredPrompt.prompt();
694|        const { outcome } = await deferredPrompt.userChoice;
695|        console.log('Install outcome:', outcome);
696|        deferredPrompt = null;
697|    }
698|    installBanner.style.display = 'none';
699|});
700|
701|dismissBtn.addEventListener('click', () => {
702|    installBanner.style.display = 'none';
703|});
704|
705|// Register Service Worker
706|if ('serviceWorker' in navigator) {
707|    window.addEventListener('load', () => {
708|        navigator.serviceWorker.register('sw.js')
709|            .then(reg => console.log('SW registered:', reg.scope))
710|            .catch(err => console.error('SW registration failed:', err));
711|    });
712|}
713|
714|// ==================== THEME ====================
715|function toggleTheme() {
716|    const html = document.documentElement;
717|    const isLight = html.getAttribute('data-theme') === 'light';
718|    html.setAttribute('data-theme', isLight ? 'dark' : 'light');
719|    themeBtn.textContent = isLight ? 'üåô' : '‚òÄÔ∏è';
720|    localStorage.setItem('playerTheme', isLight ? 'dark' : 'light');
721|}
722|themeBtn.addEventListener('click', toggleTheme);
723|
724|// ==================== AUDIO CONTEXT ====================
725|function initAudioContext() {
726|    if (audioContext) return;
727|    audioContext = new (window.AudioContext || window.webkitAudioContext)();
728|    analyser = audioContext.createAnalyser();
729|    analyser.fftSize = 512;
730|    bufferLength = analyser.frequencyBinCount;
731|    dataArray = new Uint8Array(bufferLength);
732|    fadeDataArray = new Uint8Array(bufferLength);
733|    const source = audioContext.createMediaElementSource(audio);
734|    source.connect(analyser);
735|    analyser.connect(audioContext.destination);
736|}
737|
738|function resumeAudioContext() {
739|    if (!audioContext) initAudioContext();
740|    if (audioContext && audioContext.state === 'suspended') {
741|        audioContext.resume();
742|    }
743|}
744|
745|// ==================== PLAYER FUNCTIONS ====================
746|function loadSong(index) {
747|    currentIndex = index;
748|    const fileName = songs[index];
749|    const encodedFileName = encodeURIComponent(fileName);
750|    audio.src = BASE_URL + encodedFileName;
751|    songSelect.value = index;
752|    downloadBtn.href = BASE_URL + encodedFileName;
753|    downloadBtn.setAttribute("download", fileName);
754|    currentSongEl.textContent = "‚ñ∂ " + songSelect.options[index].text;
755|}
756|
757|function togglePlay() {
758|    resumeAudioContext();
759|    if (audio.paused || audio.ended) {
760|        audio.play().then(() => {
761|            playPauseBtn.textContent = "‚è∏";
762|            vizPlayPauseBtn.textContent = "‚è∏";
763|        }).catch(e => console.error("Play error:", e));
764|    } else {
765|        audio.pause();
766|        playPauseBtn.textContent = "‚ñ∂";
767|        vizPlayPauseBtn.textContent = "‚ñ∂";
768|    }
769|}
770|
771|function nextSong() {
772|    if (radioMode) {
773|        loadSong(Math.floor(Math.random() * songs.length));
774|    } else {
775|        loadSong((currentIndex + 1) % songs.length);
776|    }
777|    togglePlay();
778|}
779|
780|function prevSong() {
781|    if (radioMode) return;
782|    loadSong((currentIndex - 1 + songs.length) % songs.length);
783|    togglePlay();
784|}
785|
786|function stopSong() {
787|    audio.pause();
788|    audio.currentTime = 0;
789|    playPauseBtn.textContent = "‚ñ∂";
790|    vizPlayPauseBtn.textContent = "‚ñ∂";
791|}
792|
793|function toggleRadioMode() {
794|    radioMode = !radioMode;
795|    if (radioMode) {
796|        loopCurrent = false;
797|        updateLoopButtonState();
798|        loadSong(Math.floor(Math.random() * songs.length));
799|        togglePlay();
800|        radioToggle.textContent = "üéß Radio aus";
801|        radioToggle.classList.add('active');
802|    } else {
803|        updateLoopButtonState();
804|        radioToggle.textContent = "üéß Radio-Modus";
805|        radioToggle.classList.remove('active');
806|    }
807|}
808|
809|function toggleLoop() {
810|    if (radioMode) return;
811|    loopCurrent = !loopCurrent;
812|    loopBtn.classList.toggle("active", loopCurrent);
813|}
814|
815|function updateLoopButtonState() {
816|    if (radioMode) {
817|        loopCurrent = false;
818|        loopBtn.classList.remove("active");
819|        loopBtn.disabled = true;
820|    } else {
821|        loopBtn.disabled = false;
822|    }
823|}
824|
825|function formatTime(time) {
826|    if (isNaN(time)) return "0:00";
827|    const minutes = Math.floor(time / 60);
828|    const seconds = Math.floor(time % 60).toString().padStart(2, "0");
829|    return minutes + ":" + seconds;
830|}
831|
832|// ==================== EVENT LISTENERS ====================
833|playPauseBtn.addEventListener('click', togglePlay);
834|document.getElementById('nextBtn').addEventListener('click', nextSong);
835|document.getElementById('prevBtn').addEventListener('click', prevSong);
836|document.getElementById('stopBtn').addEventListener('click', stopSong);
837|loopBtn.addEventListener('click', toggleLoop);
838|radioToggle.addEventListener('click', toggleRadioMode);
839|
840|songSelect.addEventListener('change', () => {
841|    resumeAudioContext();
842|    loadSong(parseInt(songSelect.value));
843|    togglePlay();
844|});
845|
846|audio.addEventListener("timeupdate", () => {
847|    if (!audio.duration) return;
848|    progress.value = (audio.currentTime / audio.duration) * 100;
849|    timeLabel.textContent = formatTime(audio.currentTime);
850|    durationLabel.textContent = formatTime(audio.duration);
851|});
852|
853|progress.addEventListener("input", () => {
854|    audio.currentTime = (progress.value / 100) * audio.duration;
855|});
856|
857|volumeSlider.addEventListener("input", () => {
858|    audio.volume = volumeSlider.value;
859|});
860|
861|audio.addEventListener("ended", () => {
862|    if (loopCurrent && !radioMode) {
863|        audio.currentTime = 0;
864|        togglePlay();
865|    } else {
866|        nextSong();
867|    }
868|});
869|
870|// ==================== VISUALIZER ====================
871|function resizeCanvas() {
872|    const maxW = Math.min(window.innerWidth * 0.92, 800);
873|    const maxH = window.innerHeight * 0.45;
874|    const ratio = 16 / 9;
875|    let w = maxW;
876|    let h = w / ratio;
877|    if (h > maxH) { h = maxH; w = h * ratio; }
878|    canvas.width = Math.floor(w);
879|    canvas.height = Math.floor(h);
880|}
881|
882|function drawRing() {
883|    ctx.save();
884|    const centerX = canvas.width / 2;
885|    const centerY = canvas.height / 2;
886|    const logoSize = Math.min(canvas.width, canvas.height) * 0.28;
887|    
888|    if (logoImg.complete) {
889|        ctx.shadowBlur = 25;
890|        ctx.shadowColor = 'rgba(0,255,255,0.5)';
891|        ctx.drawImage(logoImg, centerX - logoSize/2, centerY - logoSize/2, logoSize, logoSize);
892|    }
893|    
894|    const ringRadius = logoSize * 0.55;
895|    ctx.beginPath();
896|    ctx.arc(centerX, centerY, ringRadius, 0, Math.PI * 2);
897|    ctx.lineWidth = 4;
898|    ctx.strokeStyle = 'hsla(200, 100%, 70%, 0.4)';
899|    ctx.shadowBlur = 20;
900|    ctx.shadowColor = 'rgba(0, 255, 255, 0.6)';
901|    ctx.stroke();
902|    
903|    const rayCount = 48;
904|    for (let i = 0; i < rayCount; i++) {
905|        const angle = (i / rayCount) * Math.PI * 2;
906|        const freqIndex = Math.floor((i / rayCount) * bufferLength);
907|        const amp = fadeDataArray[freqIndex] / 255;
908|        const rayLength = amp * (ringRadius * 0.5);
909|        
910|        const innerX = centerX + Math.cos(angle) * ringRadius;
911|        const innerY = centerY + Math.sin(angle) * ringRadius;
912|        const outerX = centerX + Math.cos(angle) * (ringRadius + rayLength);
913|        const outerY = centerY + Math.sin(angle) * (ringRadius + rayLength);
914|        
915|        const hue = 180 + (i * 5) % 180;
916|        ctx.strokeStyle = `hsla(${hue}, 100%, ${60 + amp * 40}%, ${0.7 + amp * 0.3})`;
917|        ctx.lineWidth = 2 + amp * 5;
918|        ctx.shadowBlur = 10 + amp * 20;
919|        ctx.shadowColor = `hsla(${hue}, 100%, 80%, 0.6)`;
920|        
921|        ctx.beginPath();
922|        ctx.moveTo(innerX, innerY);
923|        ctx.lineTo(outerX, outerY);
924|        ctx.stroke();
925|    }
926|    ctx.restore();
927|}
928|
929|function drawWaveform() {
930|    const baseY = canvas.height - 30;
931|    ctx.beginPath();
932|    ctx.moveTo(0, baseY);
933|    const sliceWidth = canvas.width / bufferLength;
934|    let x = 0;
935|    
936|    for (let i = 0; i < bufferLength; i++) {
937|        let v = fadeDataArray[i] / 128.0;
938|        const y = baseY - (v * canvas.height * 0.4);
939|        ctx.lineTo(x, y);
940|        x += sliceWidth;
941|    }
942|    ctx.lineTo(canvas.width, baseY);
943|    ctx.closePath();
944|    
945|    const gradient = ctx.createLinearGradient(0, baseY, 0, baseY - canvas.height * 0.4);
946|    gradient.addColorStop(0, 'rgba(0, 255, 255, 0.7)');
947|    gradient.addColorStop(0.5, 'rgba(145, 70, 255, 0.5)');
948|    gradient.addColorStop(1, 'rgba(0, 255, 255, 0.2)');
949|    ctx.fillStyle = gradient;
950|    ctx.fill();
951|    ctx.strokeStyle = '#00ffff';
952|    ctx.lineWidth = 3;
953|    ctx.shadowBlur = 20;
954|    ctx.shadowColor = '#00ffff';
955|    ctx.stroke();
956|}
957|
958|function drawBars() {
959|    const barWidth = (canvas.width / bufferLength) * 1.5;
960|    let x = 10;
961|    for (let i = 0; i < bufferLength; i++) {
962|        const height = (fadeDataArray[i] / 255) * (canvas.height * 0.8);
963|        ctx.fillStyle = `hsl(${190 + (i * 1.4)}, 100%, 65%)`;
964|        ctx.fillRect(x, canvas.height - height - 40, barWidth, height);
965|        x += barWidth + 3;
966|    }
967|}
968|
969|function drawLightning() {
970|    if (audio.paused || audio.ended) return;
971|    const bass = Math.max(...fadeDataArray.slice(0,30)) / 255;
972|    ctx.fillStyle = `rgba(0,255,255,${bass * 0.06})`;
973|    ctx.fillRect(0, 0, canvas.width, canvas.height);
974|    const numBolts = 2 + Math.floor(bass * 6);
975|    for (let b = 0; b < numBolts; b++) {
976|        let x = 20 + Math.random() * (canvas.width - 40);
977|        let y = 0;
978|        ctx.strokeStyle = `hsl(195, 100%, ${60 + bass * 25}%)`;
979|        ctx.lineWidth = 1.5 + bass * 5;
980|        ctx.shadowBlur = 20 + bass * 25;
981|        ctx.shadowColor = 'rgba(160,255,255,0.6)';
982|        ctx.beginPath();
983|        ctx.moveTo(x, y);
984|        const steps = 6 + Math.floor(bass * 4);
985|        for (let s = 1; s < steps; s++) {
986|            y += canvas.height / steps * (0.7 + Math.random() * 0.4);
987|            x += (Math.random() - 0.5) * (40 + bass * 100);
988|            ctx.lineTo(x, y);
989|        }
990|        ctx.stroke();
991|    }
992|}
993|
994|function drawVisualizer() {
995|    animationId = requestAnimationFrame(drawVisualizer);
996|    ctx.clearRect(0, 0, canvas.width, canvas.height);
997|    
998|    if (audio.paused || audio.ended || audio.currentTime === 0) {
999|        for (let i = 0; i < bufferLength; i++) {
1000|            fadeDataArray[i] *= 0.95;
1001|            if (fadeDataArray[i] < 1) fadeDataArray[i] = 0;
1002|        }
1003|    } else {
1004|        analyser.getByteFrequencyData(fadeDataArray);
1005|    }
1006|    
1007|    if (vizMode === 0) drawRing();
1008|    else if (vizMode === 1) drawWaveform();
1009|    else if (vizMode === 2) drawBars();
1010|    else drawLightning();
1011|}
1012|
1013|function startVisualizer() {
1014|    if (!audioContext) initAudioContext();
1015|    resumeAudioContext();
1016|    resizeCanvas();
1017|    if (!animationId) drawVisualizer();
1018|}
1019|
1020|function stopVisualizer() {
1021|    if (animationId) {
1022|        cancelAnimationFrame(animationId);
1023|        animationId = null;
1024|    }
1025|}
1026|
1027|// Visualizer Events
1028|visualizerBtn.addEventListener('click', () => {
1029|    resumeAudioContext();
1030|    visualizerOverlay.classList.add('active');
1031|    startVisualizer();
1032|});
1033|
1034|closeVisualizer.addEventListener('click', () => {
1035|    visualizerOverlay.classList.remove('active');
1036|    stopVisualizer();
1037|});
1038|
1039|modeBtns.forEach(btn => {
1040|    btn.addEventListener('click', () => {
1041|        modeBtns.forEach(b => b.classList.remove('active'));
1042|        btn.classList.add('active');
1043|        vizMode = parseInt(btn.dataset.mode);
1044|    });
1045|});
1046|
1047|vizPlayPauseBtn.addEventListener('click', togglePlay);
1048|document.getElementById('vizPrevBtn').addEventListener('click', prevSong);
1049|document.getElementById('vizNextBtn').addEventListener('click', nextSong);
1050|
1051|document.addEventListener('keydown', e => {
1052|    if (e.key === "Escape" && visualizerOverlay.classList.contains('active')) {
1053|        closeVisualizer.click();
1054|    }
1055|});
1056|
1057|window.addEventListener('resize', () => {
1058|    if (visualizerOverlay.classList.contains('active')) resizeCanvas();
1059|});
1060|
1061|// ==================== INIT ====================
1062|window.addEventListener('load', () => {
1063|    const saved = localStorage.getItem('playerTheme');
1064|    if (saved === 'light') {
1065|        document.documentElement.setAttribute('data-theme', 'light');
1066|        themeBtn.textContent = '‚òÄÔ∏è';
1067|    }
1068|    loadSong(0);
1069|    updateLoopButtonState();
1070|    resizeCanvas();
1071|    volumeSlider.value = 0.5;
1072|    audio.volume = 0.5;
1073|});
1074|</script>
1075|
1076|</body>
1077|</html>
1078|
